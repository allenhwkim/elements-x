<style>
          figure { margin: 16px 0;}
          img {max-width: 100%; max-height: 100%;}
          .layout-1 { max-width: 680px; }
          .layout-3 { max-width: 1192px; }
          .layout-5 { width: 100%; }
          .layout-6 { width: 30%;}
          .layout-7 { width: 30%;}</style>
<h1>Close Div When Clicking Outside of It</h1>
<h2>No more document.addEventListener(‘click’, …)</h2>
<h2>1. Create a button to open a popup and a popup itself</h2>
<div style="display:flex; flex-wrap: wrap"><figure class="layout-1"><img src="https://cdn-images-1.medium.com/1*otRu6TLwb2wF8uq4F0Bddw.png" /><figcaption></figcaption></figure></div>
<pre>&lt;button onclick="showPopup()">Open Popup&lt;/button></pre>
<pre>&lt;div class="popup">
  &lt;div class="blocker" onclick="hidePopup()">&lt;/div>
  &lt;div class="contents">This is popup&lt;/div>
&lt;/div></pre>
<h2>2. Now style it</h2>
<div style="display:flex; flex-wrap: wrap"><figure class="layout-1"><img src="https://cdn-images-1.medium.com/1*5UHawkjTrXbajJyXVc1Z3Q.png" /><figcaption></figcaption></figure></div>
<pre>.popup { display: none; }
.popup.open { display: block; }</pre>
<pre>.blocker {
    position: fixed;
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
    content: ' ';
    background: rgba(0,0,0,.5);
}
.popup .contents {
    border: 1px solid #ccc;
    border-radius: 5px;
    width: 200px;
    height: 100px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: #FFF;</pre>
<pre>    position: fixed;
    top: 50vh;
    left: 50vw;
    transform: translate(-50%, -50%);
}</pre>
<h2>3. Add Javascript open/close the popup</h2>
<pre>&lt;script>
const popup = document.querySelector('.popup');
function showPopup() {
  popup.classList.add('open');
}
function hidePopup() {
  popup.classList.remove('open');
}
&lt;/script></pre>
<div style="display:flex; flex-wrap: wrap"><figure class="layout-6"><img src="https://cdn-images-1.medium.com/1*d_QIgNl5vUyB7NwiKi_Z5A.png" /><figcaption></figcaption></figure><figure class="layout-7"><img src="https://cdn-images-1.medium.com/1*7xIA8oxMe_ApUTInKK-wtg.png" /><figcaption></figcaption></figure></div>
<p>The key here is to <b>open and close a page blocker and popup contents together</b>. Treat the page blocker as a part of popup.</p>
<p>The above code is demoed here.</p>
<div style="display:flex; flex-wrap: wrap"><figure class="layout-1"><iframe src="https://cdn.embedly.com/widgets/media.html?src=https%3A%2F%2Fstackblitz.com%2Fedit%2Fclose-div-click-out-of-it%3Fembed%3D1%26file%3Dindex.html&url=https%3A%2F%2Fstackblitz.com%2Fedit%2Fclose-div-click-out-of-it%3Fembed%3D1%26file%3Dindex.html&image=https%3A%2F%2Fc.staticblitz.com%2Fassets%2Ficon-664493542621427cc8adae5e8f50d632f87aaa6ea1ce5b01e9a3d05b57940a9f.png&key=a19fcc184b9711e1b4764040d3dc5c07&type=text%2Fhtml&schema=stackblitz" width="745" height="400"></iframe><figcaption></figcaption></figure></div>
<p>If you think this technique is useful, please give me some claps. It would be very helpful for me to write more like this.</p>
<p>Happy coding.</p>
<p>If you like this, you may also like these;</p>
<li class="bulletin"><a href="https://allenhwkim.github.io/jsanimation/#home">https://allenhwkim.github.io/jsanimation/#home</a></li>
<li class="bulletin"><a href="https://allenhwkim.github.io/html-custom-elements/#home">https://allenhwkim.github.io/html-custom-elements/#home</a></li>
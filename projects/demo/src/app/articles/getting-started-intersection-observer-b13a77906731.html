<style>
          figure { margin: 16px 0;}
          img {max-width: 100%; max-height: 100%;}
          .layout-1 { max-width: 680px; }
          .layout-3 { max-width: 1192px; }
          .layout-5 { width: 100%; }
          .layout-6 { width: 30%;}
          .layout-7 { width: 30%;}</style>
<h1 class="title">Getting Started — IntersectionObserver</h1>
<p>The Intersection Observer API provides a way to asynchronously observe changes in the intersection of a target element</p>
<p>Let’s see the example first. From the following example, the section are changing its opacity when user scrolls around.</p>
<div style="display:flex; flex-wrap: wrap"><figure class="layout-1"><iframe src="https://cdn.embedly.com/widgets/media.html?src=https%3A%2F%2Fcodepen.io%2Fallenhwkim%2Fembed%2Fpreview%2FmpzYBr%3Fheight%3D600%26slug-hash%3DmpzYBr%26default-tabs%3Djs%2Cresult%26host%3Dhttps%3A%2F%2Fcodepen.io%26embed-version%3D2&url=https%3A%2F%2Fcodepen.io%2Fallenhwkim%2Fpen%2FmpzYBr%3Feditors%3D0010&image=https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fi.cdpn.io%2F679916.mpzYBr.small.e7b41ffb-8fb5-4341-b004-b41ab13adae5.png&key=a19fcc184b9711e1b4764040d3dc5c07&type=text%2Fhtml&schema=codepen" width="800" height="600"></iframe><figcaption></figcaption></figure></div>
<p>This is specification of IntersectionObserver, <a href="https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API">https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API</a>, and its compatible with major modern browsers except Safari. However with a simple polyfill, it’s also working with Safari browser.</p>
<p>To add the polyfill, simply add the following to your page.</p>
<pre>&lt;script src="<a href="https://unpkg.com/intersection-observer">https://unpkg.com/intersection-observer</a>">&lt;/script></pre>
<p>Let me give you simple steps of how to use IntersectionObserver.</p>
<li class="number">Define observer (What to do when intersection happens).</li>
<pre>function handleIntersect(entries, observer) {
  entries.forEach(function(entry) {
    entry.target.innerHTML = entry.intersectionRatio * 100 + "% visible";
    entry.target.style.opacity = entry.intersectionRatio;
  });
}</pre>
<pre>// createObserver();
var options = {
  // root: null,
  // rootMargin: "0px",
  //threshold: 1, // calling callback only once when 100 visible
  threshold: Array(10).fill().map((v, i) => i / 10) // to call 10 times
  //threshold: [0.2, 0.4, 0.6, 0.8, 1.0], // calling callback 5 times
  //threshold: 0, // calling callback only once when 1px visible
};</pre>
<pre>var observer = new IntersectionObserver(handleIntersect, options);</pre>
<p>2. Define what to observe</p>
<pre>var box1 = document.querySelector("#my-box-1");
observer.observe(box1);</pre>
<p>Hope this makes you feel easy with IntersectionObserver.</p>
<p>Happy Coding</p>
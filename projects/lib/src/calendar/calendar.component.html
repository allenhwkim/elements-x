<div class="calendar">
  <div class="header">
    <div class="month-year">
      {{formatDate(selectedDate, {month: 'long'})}}
      <select class="year" (change)="setYear($event)">
        <option
          [selected]="year === selectedDate.getFullYear()" 
          *ngFor="let year of getAvailYears()"> {{year}} </option>
      </select>
    </div>

    <div class="buttons">
      <button arial-label="previous month"
        [disabled]="lastDayOfPrevMonth < minDate"
        (click)="setMonth(-1)">
        &#9668;
      </button>
      <button arial-label="today"
        (click)="setToday()">&#9679;</button>
      <button  arial-label="next month"
        [disabled]="firstDayOfNextMonth > maxDate"
        (click)="setMonth(+1)">
        &#9658;
      </button>
    </div>
  </div>

  <div class="weekdays-container">
    <div class="weekday" *ngFor="let date of dates.slice(0,7)">
      {{formatDate(date, {weekday: 'short'})}}
    </div>
  </div>

  <div class="days-container">
    <button class="date" *ngFor="let date of dates"
      [ngClass]="{
        'same-month': isSameMonth(date), 
        selected: isSameDate(date, selectedDate)
      }"
      [disabled]="!isSameMonth(date) || (date < minDate || date > maxDate)"
      (focus)="onDateFocus($event)"
      (blur)="onDateBlur($event)"
      (click)="onDateSelect($event, date)">
      <span>{{formatDate(date, {day: 'numeric'}, 'en-US')}}</span>
    </button>
  </div>
  
</div>
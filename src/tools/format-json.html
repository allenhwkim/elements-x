<h2>JSON Online Formatter</h2>

<script>
  function setLeft(event) {
    const html = '<html><head></head><body></body></html>';
    event.detail.setValue(html);
    document.querySelector('.right').value = html;
  }
  function setRight(event) {
    const str = event.target.value;
    setTimeout(_ => document.querySelector('.right').value = str);
  }
</script>

<div class="editor-title">
  <span>JSON</span>
  <span>Formatted</span>
</div>
<div class="editor">
  <div class="editor-container">
    <x-ace class="left" language="javascript"
      onload="setRight(event)"
      onchange="setRight(event)">
      {"foo": 1, "bar": 2}
    </x-ace>
  </div>
  <div class="editor-container">
    <x-highlightjs class="right" language="json" prettier="">
    </x-highlightjs>
  </div>
</div>
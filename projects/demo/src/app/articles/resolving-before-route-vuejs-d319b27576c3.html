<style>
          figure { margin: 16px 0;}
          img {max-width: 100%; max-height: 100%;}
          .layout-1 { max-width: 680px; }
          .layout-3 { max-width: 1192px; }
          .layout-5 { width: 100%; }
          .layout-6 { width: 30%;}
          .layout-7 { width: 30%;}</style>
<h1 class="title">Resolving Before Route - VueJS</h1>
<p>This is one of many articles that I have covered about VueJS</p>
<li class="bulletin"><a href="https://medium.com/p/6bb1481c6844/edit">React Vs Vue</a></li>
<li class="bulletin"><a href="https://medium.com/p/6dc90cba4b96/edit">Routing With Nuxt: VueJS</a></li>
<li class="bulletin"><a href="https://medium.com/p/efc3dad45eac/edit">Multi-Language With Nuxt: VueJS</a></li>
<li class="bulletin"><a href="https://medium.com/p/d319b27576c3/edit">Resolving Before Route: VueJS</a></li>
<li class="bulletin">Form Valiadation: VueJS</li>
<li class="bulletin">Generating Documentation: VueJS</li>
<li class="bulletin">Multiple Modules: VueJS</li>
<p><a href="https://medium.com/p/6dc90cba4b96/edit">In the previous article</a>, I have covered the following items in this article</p>
<li class="bulletin">State management using Vuex, a VueJS core plugin</li>
<li class="bulletin">Server-Side Rendering using Nuxt, a VueJS core plugin</li>
<li class="bulletin">Routing using vie-router, core plugin, including
- Basic routing
- Lazy loading</li>
<li class="bulletin">Building a package for production.</li>
<li class="bulletin">Multi-Language Translation using Nuxt and SSR.</li>
<p>This article will simply cover how to resolve data before routing(changing the page/going to a different page)</p>
<p>With <span class="quote">vue-router</span>, there are several guards to redirect or cancel the navigation. For example, if you can’t receive the user data, don’t show up user details page.</p>
<p>There are three kinds of guards; global guards, per-route guard, and in-component guards. All guards accept <span class="quote">to</span>, <span class="quote">from</span>, and <span class="quote">next</span> as parameters</p>
<li class="bulletin">global guards.
- <span class="quote">router.beforeEach</span>
- <span class="quote">router.beforeResolve</span>
- <span class="quote">router.afterEach</span></li>
<li class="bulletin">per-route guard
- <span class="quote">route.beforeEnter</span></li>
<li class="bulletin">in-component guards
- <span class="quote">beforeRouteEnter</span> : called before the navigation is confirmed
- <span class="quote">beforeRouteUpdate</span> : called when the current component has changed
- <span class="quote">beforeRouteLeave</span> : used to prevent the users from leaving the page</li>
<p>This is the sequence.</p>
<li class="number"><span class="quote">beforeRouteLeave</span></li>
<li class="number">router.beforeEach</li>
<li class="number"><span class="quote">beforeRouteUpdate</span></li>
<li class="number">route.beforeEnter</li>
<li class="number"><span class="quote">beforeRouteEnter</span></li>
<li class="number">router.beforeResolve</li>
<li class="number">router.afterEach</li>
<p><a href="https://router.vuejs.org/en/advanced/navigation-guards.html#incomponent-guards">https://router.vuejs.org/en/advanced/navigation-guards.html#incomponent-guard</a>s</p>
<p>Since all guards accept <span class="quote">to</span>, <span class="quote">from</span>, and <span class="quote">next</span> as parameters, too cancel the navigation, call <span class="quote">next(false)</span>, and to redirect call <span class="quote">next(&lt;path>)</span> as example of <span class="quote">next('/')</span> or <span class="quote">next({ path: '/' })</span>. What if you want to continue the navigatoin, call <span class="quote">next()</span>. If you call <span class="quote">next(error)</span>, <span class="quote">router.onError(error)</span> will be performed. To summarize;</p>
<li class="number">continue <span class="quote">next()</span></li>
<li class="number">cancel <span class="quote">next(false)</span></li>
<li class="number">redirect <span class="quote">next(&lt;path>)</span></li>
<li class="number">error out <span class="quote">next(error)</span></li>
<p>To resolve data before route, we use <span class="quote">beforeRouteEnter</span> with the following code.</p>
<pre>&lt;template>
   ...
    &lt;ul id="posts">
      &lt;li <b>v-for="post in posts"</b> :key="post.id">
        &lt;hr />
        &lt;b>{{ <b>post.title</b> }}&lt;/b>
        {{ <b>post.body</b> }}
      &lt;/li>
    &lt;/ul>
   ...
&lt;/template></pre>
<pre>&lt;script>
  import axios from 'axios';</pre>
<pre>  export default {
    data() {
      return {
<a href="https://jsonplaceholder.typicode.com/posts'">https://jsonplaceholder.typicode.com/posts'</a>      }
    },
    <b>        posts: []
</b> (to, from, <b>beforeRouteEnter</b>) {
      axios.get('<b>next</b>)
        .then(response => {
          <b>next</b>(vm => (<b>vm.posts = response.data</b>) )
        })
    }
  }
&lt;/script></pre>
<p>There is also a <span class="quote">fetch</span> method in Nuxt framework to set <span class="quote">state</span> variables. However, I might be wrongly doing, but I could not find any difference to <span class="quote">beforeRouteEnter</span> method. <a href="https://nuxtjs.org/api/pages-fetch/">https://nuxtjs.org/api/pages-fetch/</a></p>
<p>You can find the working example with code from <a href="https://github.com/allenhwkim/vue-nuxt-practice/tree/3.0">github</a>.</p>
<h1>Review</h1>
<p><a href="https://medium.com/p/6bb1481c6844/edit">The previous article</a> and <a href="https://medium.com/p/6dc90cba4b96/edit">this article</a> has covered the following;</p>
<li class="bulletin">State management using Vuex, a VueJS core plugin</li>
<li class="bulletin">Server-Side Rendering using Nuxt, a VueJS core plugin</li>
<li class="bulletin">Routing using vie-router, core plugin, including
- Basic routing
- Lazy loading</li>
<li class="bulletin">Building a package for production</li>
<li class="bulletin">Multi-language translation using vue-i18n, 3rd party tool</li>
<li class="bulletin"><a href="https://medium.com/p/d319b27576c3/edit">Resolving before route</a></li>
<p>The next and future article will cover more</p>
<li class="bulletin">Form validation using computed property</li>
<li class="bulletin">Documentation using docsify, 3rd party tool</li>
<li class="bulletin">Separate modules / namespace</li>
<p>See you at the next article</p>
<p>Happy coding</p>
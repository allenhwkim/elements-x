<style>
          figure { margin: 16px 0;}
          img {max-width: 100%; max-height: 100%;}
          .layout-1 { max-width: 680px; }
          .layout-3 { max-width: 1192px; }
          .layout-5 { width: 100%; }
          .layout-6 { width: 30%;}
          .layout-7 { width: 30%;}</style>
<h1 class="title">Margin Collapsing Explained</h1>
<h2 class="subtitle">What you get is not what you coded.</h2>
<div style="display:flex; flex-wrap: wrap"><figure class="layout-1"><img src="https://cdn-images-1.medium.com/0*RQFUgjY3oWv1YVSm" /><figcaption>Photo by <a href="https://unsplash.com/@skmuse_?utm_source=medium&utm_medium=referral">Suad Kamardeen</a> on <a href="https://unsplash.com?utm_source=medium&utm_medium=referral">Unsplash</a></figcaption></figure></div>
<p>As the documentation said, <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Box_Model/Mastering_margin_collapsing">Mozilla Documentation</a>, the <b>top</b> and <b>bottom</b> margins of <b>blocks</b> are <b>sometimes</b> combined (collapsed) into a single margin.</p>
<li class="bulletin">The margins of adjacent siblings are collapsed.</li>
<li class="bulletin">For empty block, its top and bottom margins collapse</li>
<p>It‚Äôs better to see it rather than words.</p>
<h2>Example 1</h2>
<p>The top/bottom margins of adjacent siblings are collapsed.</p>
<p>From the following example, the margin between box 1 and box 2 is <i>not 36px</i>, which is box 1 bottom margin 12px and box 2 top margin 24px. but it is <i>24px</i> which is bigger margin between 12px and 24px.</p>
<pre>&lt;div class="container">
  &lt;div class="box1"> box1: margin: 12px &lt;/div>
  &lt;div class="box2"> box2: margin: 24px &lt;/div>
&lt;/div></pre>
<div style="display:flex; flex-wrap: wrap"><figure class="layout-1"><img src="https://cdn-images-1.medium.com/1*s9t0WUU4byMwBOSw82AcDw.png" /><figcaption></figcaption></figure></div>
<h2>Example 2</h2>
<p>If the container does not have any content separating style, e.g. <span class="quote">border</span>, <span class="quote">padding</span>, margin collapsing will happen to the outside of parent.</p>
<p>The following example has the following code.</p>
<p>We just saw that box1 bottom margin and box2 top margin collapses. How about box2 bottom margin and and box3 top margin which are not sibling? Margin collapsing also happens when the container does not have border or padding.</p>
<pre>&lt;div class="container no-border" style="background:#eee">
  &lt;div class="box1"> box1: margin: 12px &lt;/div>
  &lt;div class="box2"> box2: margin: 24px &lt;/div>
&lt;/div>
&lt;div class="box3">box3: margin: 24px&lt;/div></pre>
<div style="display:flex; flex-wrap: wrap"><figure class="layout-1"><img src="https://cdn-images-1.medium.com/1*s2hQbBtu2ZnlwTJCBSVenw.png" /><figcaption></figcaption></figure></div>
<p>To see it clearly, following is example of margin collapsing not happening when the container has a blue border.</p>
<pre>&lt;div class="container no-border"
  style="background:#eee; <b>border: 1px solid blue</b>">
  &lt;div class="box1"> box1: margin: 12px &lt;/div>
  &lt;div class="box2"> box2: margin: 24px &lt;/div>
&lt;/div>
&lt;div class="box3">box3: margin: 24px&lt;/div></pre>
<div style="display:flex; flex-wrap: wrap"><figure class="layout-1"><img src="https://cdn-images-1.medium.com/1*b3Zsqa4FXpyZo--ZSd1isw.png" /><figcaption></figcaption></figure></div>
<h2>Example 3</h2>
<p>Margin collapsing applies to empty box. The following example has 3 empty box1s, which has 12px top/bottom margin. No matter how many empty boxes are there, no margin applies to empty boxes.</p>
<pre>&lt;div class="container">
  &lt;div class="<b>box1</b>">&lt;/div>
  &lt;div class="<b>box1</b>">&lt;/div>
  &lt;div class="<b>box1</b>">&lt;/div>
  &lt;div class="box2"> box2: margin: 24px &lt;/div>
&lt;/div></pre>
<div style="display:flex; flex-wrap: wrap"><figure class="layout-1"><img src="https://cdn-images-1.medium.com/1*fwcKXATJdlyy501iAO9ETA.png" /><figcaption></figcaption></figure></div>
<h2>Example 4</h2>
<p>Margin collapsing does <b>NOT</b> apply to inline-block;</p>
<pre>&lt;div class="container">
  &lt;div class="box1 <b>inline-block</b>"> box1: margin: 12px &lt;/div>
  &lt;div class="box2 <b>inline-block</b>"> box2: margin: 24px &lt;/div>
&lt;/div></pre>
<div style="display:flex; flex-wrap: wrap"><figure class="layout-1"><img src="https://cdn-images-1.medium.com/1*8Ngrwf_GQJ_la5_5wdDbnw.png" /><figcaption></figcaption></figure></div>
<h2>Example 5</h2>
<p>Margin collapsing does <b>NOT</b> apply to flex box.</p>
<pre>&lt;div class="container flex">
  &lt;div class="box1"> box1: margin: 12px &lt;/div>
  &lt;div class="box2"> box2: margin: 24px &lt;/div>
&lt;/div></pre>
<div style="display:flex; flex-wrap: wrap"><figure class="layout-1"><img src="https://cdn-images-1.medium.com/1*jtGLsUX4vivQoCPPqOK8BA.png" /><figcaption></figcaption></figure></div>
<p>Here is a code and demo you can experience margin collapsing.</p>
<div style="display:flex; flex-wrap: wrap"><figure class="layout-1"><iframe src="https://cdn.embedly.com/widgets/media.html?src=https%3A%2F%2Fstackblitz.com%2Fedit%2Fmargin-collapse%3Fembed%3D1%26view%3Dpreview&display_name=StackBlitz&url=https%3A%2F%2Fstackblitz.com%2Fedit%2Fmargin-collapse%3Fview%3Dpreview&image=https%3A%2F%2Fc.staticblitz.com%2Fassets%2Ficon-1d2450aadcf984376236c23cd2ab0ba231ddd1d85c9b72990ed2ede5b4974d1b.png&key=a19fcc184b9711e1b4764040d3dc5c07&type=text%2Fhtml&schema=stackblitz" width="745" height="400"></iframe><figcaption></figcaption></figure></div>
<p>Happy coding :)</p>
<p>This article is a part of <a href="https://medium.com/@allenhwkim/angular-random-how-tos-61be27cac0a2">Angular Random How-Tos</a>. You may find some useful articles for your daily development.</p>
<p><a href="https://twitter.com/allenhwkim">Follow Allen on Twitter (@allenhwkim)</a> <b>Do you think this useful? If so please;
*</b>belowÔ∏è to let others to see this too.
* <b>Clap üëè button </b></p>